<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curiosidades Culinarias - Libros de Cocina en PDF</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
    <style>
        /* ===== ESTILOS UNIFICADOS ===== */
        :root {
            --primary: #e74c3c;
            --primary-dark: #c0392b;
            --secondary: #f39c12;
            --light: #fdf2e9;
            --dark: #2c3e50;
            --text: #333;
            --gray: #95a5a6;
            --success: #27ae60;
            --info: #3498db;
            --cuban-blue: #00205b;
            --cuban-red: #cf142b;
            --tracker-bg: #0f172a;
            --tracker-card: #1e293b;
            --tracker-primary: #3b82f6;
            --tracker-success: #10b981;
            --tracker-warning: #f59e0b;
            --tracker-danger: #ef4444;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            color: var(--text);
            line-height: 1.6;
            background-color: #fff;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* ===== BANDERA CUBA ===== */
        .cuba-flag {
            background: linear-gradient(to bottom, 
                #00205b 33%, 
                white 33%, 67%,
                #00205b 67%);
            height: 6px;
            width: 100%;
            position: relative;
            margin-bottom: 5px;
        }
        
        .cuba-flag::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 30%;
            background: #00205b;
            border-right: 1px solid white;
        }
        
        .cuba-flag::after {
            content: '‚òÖ';
            position: absolute;
            left: 10%;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 12px;
        }
        
        /* ===== HEADER ===== */
        header {
            background-color: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
            color: var(--cuban-blue);
        }
        
        .logo h1 span {
            color: var(--cuban-red);
            font-family: 'Dancing Script', cursive;
        }
        
        .logo-icon {
            color: var(--cuban-blue);
            font-size: 2.2rem;
        }
        
        .country-badge {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            color: white;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }
        
        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        nav a:hover {
            color: var(--cuban-red);
        }
        
        .cta-button {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(207, 20, 43, 0.3);
        }
        
        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }
        
        /* ===== HERO SECTION ===== */
        .hero {
            background: linear-gradient(rgba(0, 32, 91, 0.85), rgba(207, 20, 43, 0.85)), url('https://images.unsplash.com/photo-1565958011703-44f9829ba187?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1365&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 100px 0;
        }
        
        .hero h2 {
            font-size: 3rem;
            margin-bottom: 20px;
            font-family: 'Dancing Script', cursive;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
        }
        
        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .secondary-button {
            background-color: transparent;
            color: white;
            border: 2px solid white;
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .secondary-button:hover {
            background-color: white;
            color: var(--cuban-blue);
            transform: translateY(-2px);
        }
        
        /* ===== SECCIONES GENERALES ===== */
        section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            color: var(--cuban-blue);
            position: relative;
            display: inline-block;
            padding-bottom: 15px;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            width: 70px;
            height: 4px;
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .section-title p {
            color: var(--gray);
            max-width: 700px;
            margin: 15px auto 0;
        }
        
        /* ===== LIBROS ===== */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .book-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            position: relative;
            border: 1px solid #e0e0e0;
        }
        
        .book-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 32, 91, 0.15);
        }
        
        .book-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .book-img {
            height: 200px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .book-img::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 70%, rgba(0, 32, 91, 0.3));
        }
        
        .book-content {
            padding: 25px;
        }
        
        .book-content h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--cuban-blue);
        }
        
        .book-content p {
            color: var(--gray);
            margin-bottom: 20px;
            font-size: 0.95rem;
        }
        
        .book-features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .book-feature {
            background-color: rgba(0, 32, 91, 0.1);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            color: var(--cuban-blue);
        }
        
        .book-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }
        
        .price-container {
            display: flex;
            flex-direction: column;
        }
        
        .price {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--cuban-red);
        }
        
        .cup-price {
            font-size: 1.2rem;
            color: var(--cuban-blue);
            margin-top: 5px;
        }
        
        .original-price {
            text-decoration: line-through;
            color: var(--gray);
            font-size: 1.2rem;
            margin-right: 5px;
        }
        
        /* ===== PANEL DE SEGUIMIENTO ===== */
        .tracker-section {
            background: linear-gradient(135deg, var(--tracker-bg) 0%, #1e293b 100%);
            color: #e2e8f0;
            padding: 80px 0;
            position: relative;
            overflow: hidden;
        }
        
        .tracker-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
        }
        
        .tracker-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .tracker-header h2 {
            font-size: 2.5rem;
            color: #fff;
            margin-bottom: 15px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .tracker-header h2 i {
            color: var(--cuban-red);
        }
        
        .tracker-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .tracker-btn {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 32, 91, 0.3);
        }
        
        .tracker-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 32, 91, 0.4);
        }
        
        .tracker-btn-secondary {
            background: transparent;
            border: 2px solid var(--cuban-blue);
            box-shadow: none;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .tracker-card {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            border-left: 5px solid var(--cuban-blue);
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }
        
        .tracker-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.4);
        }
        
        .stat-number {
            font-size: 3.5rem;
            font-weight: bold;
            color: var(--tracker-success);
            text-align: center;
            margin: 15px 0;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .countdown {
            font-size: 2.2rem;
            font-weight: bold;
            text-align: center;
            color: var(--tracker-warning);
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        
        .live-sales-list {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
            padding-right: 10px;
        }
        
        .live-sales-list::-webkit-scrollbar {
            width: 5px;
        }
        
        .live-sales-list::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }
        
        .live-sales-list::-webkit-scrollbar-thumb {
            background: var(--cuban-blue);
            border-radius: 10px;
        }
        
        .sale-item {
            background: rgba(255, 255, 255, 0.05);
            margin: 10px 0;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--tracker-success);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }
        
        .sale-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .sale-item.new {
            animation: highlight 2s;
        }
        
        @keyframes highlight {
            0% { background: rgba(16, 185, 129, 0.3); }
            100% { background: rgba(255, 255, 255, 0.05); }
        }
        
        /* ===== SOBRE DIDIERT ===== */
        .about-section {
            background-color: var(--light);
        }
        
        .about-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: center;
        }
        
        .about-img {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 32, 91, 0.1);
        }
        
        .about-img img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .about-text h3 {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--cuban-blue);
        }
        
        .about-text p {
            margin-bottom: 20px;
            color: #555;
        }
        
        .ai-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            display: inline-block;
            margin: 15px 0;
            font-weight: 600;
        }
        
        .youtube-channel {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            color: var(--cuban-red);
            font-weight: 600;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .youtube-channel:hover {
            color: var(--cuban-blue);
        }
        
        /* ===== CONTACTO Y PAGOS CUBA ===== */
        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
        }
        
        .contact-info h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--cuban-blue);
        }
        
        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .contact-icon {
            width: 50px;
            height: 50px;
            background-color: rgba(0, 32, 91, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--cuban-blue);
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .whatsapp-button {
            background: linear-gradient(to right, #25D366, #128C7E);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            transition: all 0.3s;
            margin-top: 5px;
        }
        
        .whatsapp-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }
        
        /* M√âTODOS DE PAGO CUBA */
        .payment-methods-cuba {
            background: rgba(0, 32, 91, 0.05);
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid var(--cuban-red);
        }
        
        .payment-methods-cuba h4 {
            color: var(--cuban-blue);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .payment-option {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }
        
        .payment-option i {
            color: var(--cuban-blue);
            font-size: 1.5rem;
        }
        
        .payment-details {
            flex: 1;
        }
        
        .payment-details h5 {
            color: var(--cuban-blue);
            margin-bottom: 5px;
        }
        
        .payment-details p {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .cup-badge {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .contact-form input,
        .contact-form textarea,
        .contact-form select {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            transition: border 0.3s;
        }
        
        .contact-form input:focus,
        .contact-form textarea:focus,
        .contact-form select:focus {
            outline: none;
            border-color: var(--cuban-blue);
        }
        
        .contact-form textarea {
            height: 150px;
            resize: vertical;
        }
        
        /* ===== FOOTER ===== */
        footer {
            background: linear-gradient(to bottom, var(--cuban-blue), #001942);
            color: white;
            padding: 60px 0 30px;
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 1.5rem;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 10px;
        }
        
        .footer-column h3::after {
            content: '';
            position: absolute;
            width: 40px;
            height: 3px;
            background: linear-gradient(to right, white, var(--cuban-red));
            bottom: 0;
            left: 0;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: #bbb;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        
        .social-icons a:hover {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #bbb;
            font-size: 0.9rem;
        }
        
        /* ===== MODALES - CORREGIDOS ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
            animation: modalFadeIn 0.3s ease;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            background-color: white;
            padding: 40px;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease;
        }
        
        @keyframes modalSlideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.3s;
            background: none;
            border: none;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-modal:hover {
            color: var(--cuban-red);
        }
        
        .step {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin: 20px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid var(--cuban-blue);
        }
        
        .step-number {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
        }
        
        .payment-methods {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        
        .payment-card {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            transition: all 0.3s;
            flex: 1;
            min-width: 150px;
            cursor: pointer;
            background: white;
        }
        
        .payment-card:hover {
            border-color: var(--cuban-blue);
            background-color: rgba(0, 32, 91, 0.05);
        }
        
        .payment-card.selected {
            border-color: var(--cuban-blue);
            background-color: rgba(0, 32, 91, 0.1);
        }
        
        .payment-icon {
            font-size: 1.8rem;
            color: var(--gray);
        }
        
        .payment-card.selected .payment-icon {
            color: var(--cuban-blue);
        }
        
        .success-message {
            background: linear-gradient(to right, #d4edda, #c3e6cb);
            color: #155724;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            border-left: 5px solid #28a745;
        }
        
        .download-section {
            background: linear-gradient(to right, rgba(0, 32, 91, 0.1), rgba(207, 20, 43, 0.1));
            padding: 25px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
            text-align: center;
            border: 2px dashed var(--cuban-blue);
        }
        
        .download-button {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 32, 91, 0.3);
        }
        
        .download-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 32, 91, 0.4);
        }
        
        .download-info {
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--cuban-blue);
        }
        
        .email-input {
            width: 100%;
            padding: 12px;
            margin: 15px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }
        
        .email-input:focus {
            outline: none;
            border-color: var(--cuban-blue);
        }
        
        .purchase-id {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            border: 1px solid #ddd;
        }
        
        /* ===== PANEL ADMINISTRADOR ===== */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--tracker-bg);
            z-index: 3000;
            overflow-y: auto;
        }
        
        .admin-container {
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 280px;
            background: #1a2238;
            padding: 25px 20px;
            border-right: 2px solid var(--cuban-blue);
        }
        
        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        
        .menu-item {
            padding: 15px;
            margin: 10px 0;
            background: #252f4a;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s;
            color: #e2e8f0;
            border: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
            font-size: 1rem;
        }
        
        .menu-item:hover, .menu-item.active {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            transform: translateX(5px);
        }
        
        .admin-section {
            display: none;
        }
        
        .admin-section.active {
            display: block;
        }
        
        .admin-table {
            width: 100%;
            background: var(--tracker-card);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .admin-table th, .admin-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #334155;
            color: #e2e8f0;
        }
        
        .admin-table th {
            background: #252f4a;
            font-weight: 600;
        }
        
        .admin-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        /* ===== LOGIN ===== */
        .login-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.95);
            z-index: 4000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }
        
        .login-box {
            background: var(--tracker-card);
            padding: 40px;
            border-radius: 20px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            border: 1px solid #334155;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #94a3b8;
            font-weight: 500;
        }
        
        .input-group input {
            width: 100%;
            padding: 15px;
            background: #252f4a;
            border: 2px solid #334155;
            border-radius: 10px;
            color: white;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: var(--cuban-blue);
            box-shadow: 0 0 0 3px rgba(0, 32, 91, 0.2);
        }
        
        /* ===== NOTIFICACIONES TEMPORALES ===== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 5000;
            display: none;
            animation: slideInRight 0.5s ease;
            max-width: 400px;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .notification.success {
            background: linear-gradient(to right, #27ae60, #219653);
        }
        
        .notification.error {
            background: linear-gradient(to right, #e74c3c, #c0392b);
        }
        
        /* ===== SELECTOR DE MODO MEJORADO ===== */
        .mode-selector {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            border: 2px solid var(--cuban-blue);
        }
        
        .mode-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .mode-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            background-color: var(--cuban-blue);
            color: white;
            min-width: 180px;
        }
        
        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 32, 91, 0.3);
        }
        
        .mode-btn.active {
            background: linear-gradient(to right, var(--cuban-blue), var(--cuban-red));
            box-shadow: 0 4px 10px rgba(207, 20, 43, 0.3);
        }
        
        /* ===== RESPONSIVE ===== */
        @media (max-width: 992px) {
            .about-container, .contact-container {
                grid-template-columns: 1fr;
            }
            
            .hero h2 {
                font-size: 2.5rem;
            }
            
            .admin-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
        }
        
        @media (max-width: 768px) {
            nav {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: white;
                box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
                padding: 20px;
            }
            
            nav.active {
                display: block;
            }
            
            nav ul {
                flex-direction: column;
                gap: 15px;
            }
            
            .mobile-menu {
                display: block;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .tracker-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .payment-card {
                min-width: 100%;
            }
            
            .mode-buttons {
                flex-direction: column;
            }
            
            .mode-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- ===== BANDERA CUBA ===== -->
    <div class="cuba-flag"></div>

    <!-- ===== HEADER ===== -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-utensils logo-icon"></i>
                <h1>Curiosidades <span>Culinarias</span></h1>
                <span class="country-badge">üá®üá∫ Cuba</span>
            </div>
            
            <div class="mobile-menu">
                <i class="fas fa-bars"></i>
            </div>
            
            <nav>
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#libros">Libros PDF</a></li>
                    <li><a href="#pagos-cuba">Pagos en Cuba</a></li>
                    <li><a href="#seguimiento">Estad√≠sticas</a></li>
                    <li><a href="#sobre">Sobre Didiert</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                    <li><a href="https://youtube.com/@didiertangarica" target="_blank">YouTube</a></li>
                </ul>
            </nav>
            
            <button class="cta-button" id="adminAccessBtn">
                <i class="fas fa-chart-line"></i> Panel Admin
            </button>
        </div>
    </header>

    <!-- ===== HERO SECTION ===== -->
    <section class="hero" id="inicio">
        <div class="container">
            <h2>Sabores de Cuba y el Mundo</h2>
            <p>Libros de cocina en PDF creados con IA. ¬°Compra desde Cuba y paga en CUP! Descarga inmediata despu√©s del pago.</p>
            <div class="hero-buttons">
                <button class="cta-button" id="viewBooks">
                    <i class="fas fa-shopping-cart"></i> Ver Libros
                </button>
                <a href="#pagos-cuba" class="secondary-button">
                    <i class="fas fa-money-bill-wave"></i> Pagar en CUP
                </a>
                <a href="https://youtube.com/@didiertangarica" target="_blank" class="secondary-button">
                    <i class="fab fa-youtube"></i> Mi Canal YouTube
                </a>
            </div>
        </div>
    </section>

    <!-- ===== SELECTOR DE MODO (CORREGIDO) ===== -->
    <div class="container mode-selector" id="modeSelector">
        <h3>Selecciona tu m√©todo de compra:</h3>
        <div class="mode-buttons">
            <button id="cubaModeBtn" class="mode-btn active">
                <i class="fas fa-flag"></i> Compra desde Cuba
            </button>
            <button id="internationalModeBtn" class="mode-btn">
                <i class="fas fa-globe-americas"></i> Compra Internacional
            </button>
        </div>
        <p id="currentModeText" style="margin-top: 15px; font-weight: 600; color: var(--cuban-blue);">
            Modo actual: <span style="color: var(--cuban-red);">Compra desde Cuba</span>
        </p>
    </div>

    <!-- ===== LIBROS EN PDF ===== -->
    <section id="libros">
        <div class="container">
            <div class="section-title">
                <h2>Libros de Cocina en PDF</h2>
                <p>Recetas creadas con IA - Descarga inmediata - Compatible con cualquier dispositivo</p>
            </div>
            
            <div class="books-grid">
                <!-- Libro 1 -->
                <div class="book-card">
                    <div class="book-badge">M√ÅS VENDIDO</div>
                    <div class="book-img" style="background-image: url('https://images.unsplash.com/photo-1547592180-85f173990554?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');"></div>
                    <div class="book-content">
                        <h3>Fusi√≥n Caribe√±a con IA</h3>
                        <p>Recetas tradicionales cubanas reinventadas con toques modernos usando inteligencia artificial.</p>
                        <div class="book-features">
                            <span class="book-feature">45 recetas</span>
                            <span class="book-feature">Cocina cubana</span>
                            <span class="book-feature">Creado con IA</span>
                        </div>
                        <div class="book-price">
                            <div class="price-container">
                                <span class="price">$9.99 USD</span>
                                <span class="cup-price">‚âà 250 CUP</span>
                            </div>
                            <button class="cta-button buy-btn" data-book="Fusi√≥n Caribe√±a con IA" data-price="9.99" data-id="LIB001" data-cup="250">
                                <i class="fas fa-cart-plus"></i> Comprar
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Libro 2 -->
                <div class="book-card">
                    <div class="book-badge">NUEVO</div>
                    <div class="book-img" style="background-image: url('https://images.unsplash.com/photo-1565958011703-44f9829ba187?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1365&q=80');"></div>
                    <div class="book-content">
                        <h3>Cocina Internacional AI</h3>
                        <p>Platos de 5 continentes generados por inteligencia artificial con ingredientes accesibles en Cuba.</p>
                        <div class="book-features">
                            <span class="book-feature">60 recetas</span>
                            <span class="book-feature">Ingredientes locales</span>
                            <span class="book-feature">Paso a paso</span>
                        </div>
                        <div class="book-price">
                            <div class="price-container">
                                <span class="price">$7.99 USD</span>
                                <span class="cup-price">‚âà 200 CUP</span>
                            </div>
                            <button class="cta-button buy-btn" data-book="Cocina Internacional AI" data-price="7.99" data-id="LIB002" data-cup="200">
                                <i class="fas fa-cart-plus"></i> Comprar
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Libro 3 -->
                <div class="book-card">
                    <div class="book-badge">ESPECIAL</div>
                    <div class="book-img" style="background-image: url('https://images.unsplash.com/photo-1476224203421-9ac39bcb3327?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80');"></div>
                    <div class="book-content">
                        <h3>Postres con Chat GPT</h3>
                        <p>Dulces y postres creados completamente por IA, desde lo tradicional hasta innovaciones √∫nicas.</p>
                        <div class="book-features">
                            <span class="book-feature">35 postres</span>
                            <span class="book-feature">Ingredientes cubanos</span>
                            <span class="book-feature">F√°cil preparaci√≥n</span>
                        </div>
                        <div class="book-price">
                            <div class="price-container">
                                <span class="price">$6.99 USD</span>
                                <span class="cup-price">‚âà 175 CUP</span>
                            </div>
                            <button class="cta-button buy-btn" data-book="Postres con Chat GPT" data-price="6.99" data-id="LIB003" data-cup="175">
                                <i class="fas fa-cart-plus"></i> Comprar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== PAGOS EN CUBA ===== -->
    <section id="pagos-cuba" style="background-color: #f8f9fa;">
        <div class="container">
            <div class="section-title">
                <h2>Pagos desde Cuba üá®üá∫</h2>
                <p>M√∫ltiples opciones para comprar desde Cuba pagando en CUP (Peso Cubano)</p>
            </div>
            
            <div class="payment-methods-cuba">
                <h4><i class="fas fa-wallet"></i> M√©todos de Pago Disponibles en Cuba</h4>
                
                <div class="payment-option">
                    <i class="fas fa-mobile-alt"></i>
                    <div class="payment-details">
                        <h5>Transferm√≥vil</h5>
                        <p><strong>N√∫mero:</strong> +53 52494433/p>
                        <p><strong>Nombre:</strong> Didiert Angarica</p>
                        <span class="cup-badge">Pago en CUP</span>
                    </div>
                </div>
                
                <div class="payment-option">
                    <i class="fas fa-university"></i>
                    <div class="payment-details">
                        <h5>Transferencia Bancaria</h5>
                        <p><strong>Banco:</strong> Banco Metropolitano</p>
                        <p><strong>Cuenta:</strong> 9204-9598-7734-2917/p>
                        <p><strong>Titular:</strong> Didiert Angarica</p>
                        <span class="cup-badge">Pago en CUP</span>
                    </div>
                </div>
                
                <div class="payment-option">
                    <i class="fas fa-hand-holding-usd"></i>
                    <div class="payment-details">
                        <h5>Envio Nacional</h5>
                        <p><strong>Western Union Cuba</strong></p>
                        <p><strong>A nombre de:</strong> Didiert Angarica</p>
                        <p><strong>Documento:</strong> 79042207467</p>
                        <span class="cup-badge">Pago en CUP</span>
                    </div>
                </div>
                
                <div style="margin-top: 20px; padding: 15px; background: rgba(0, 32, 91, 0.1); border-radius: 8px;">
                    <h5><i class="fas fa-info-circle"></i> Instrucciones para pagar desde Cuba:</h5>
                    <ol style="margin-left: 20px; margin-top: 10px; color: #555;">
                        <li>Selecciona el libro que quieres comprar</li>
                        <li>Elige la opci√≥n "Pago desde Cuba" en el checkout</li>
                        <li>Realiza el pago usando uno de los m√©todos arriba</li>
                        <li>Env√≠a el comprobante por WhatsApp o email</li>
                        <li>Recibir√°s el PDF inmediatamente despu√©s de confirmar el pago</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== PANEL DE SEGUIMIENTO ===== -->
    <section class="tracker-section" id="seguimiento">
        <div class="container">
            <div class="tracker-header">
                <h2><i class="fas fa-chart-line"></i> Estad√≠sticas en Tiempo Real</h2>
                <p>Ventas actualizadas autom√°ticamente - Hora de Cuba: <span id="cuba-time">00:00:00</span></p>
                <div class="tracker-buttons">
                    <button class="tracker-btn" onclick="simulateSale()">
                        <i class="fas fa-plus"></i> Simular Venta
                    </button>
                    <button class="tracker-btn tracker-btn-secondary" onclick="showLogin()">
                        <i class="fas fa-user-cog"></i> Acceso Administrador
                    </button>
                </div>
            </div>

            <div class="dashboard-grid">
                <!-- CONTADOR DE VENTAS -->
                <div class="tracker-card">
                    <h2><i class="fas fa-chart-line"></i> Ventas Hoy</h2>
                    <div class="stat-number" id="publicSalesToday">0</div>
                    <p style="text-align: center; color: #94a3b8;">Actualizado en vivo</p>
                </div>

                <!-- RIFA NEGATIVA -->
                <div class="tracker-card">
                    <h2><i class="fas fa-clock"></i> Promoci√≥n Activa</h2>
                    <p style="text-align: center; margin-bottom: 10px;">Tiempo restante:</p>
                    <div class="countdown" id="publicRaffleTimer">05:00:00:00</div>
                    <div id="raffleColorBar" style="height: 8px; background: #10b981; border-radius: 4px; margin-top: 15px;"></div>
                </div>

                <!-- LIBRO M√ÅS VENDIDO -->
                <div class="tracker-card">
                    <h2><i class="fas fa-crown"></i> Libro del D√≠a</h2>
                    <div class="stat-number" id="publicTopBook">-</div>
                    <p style="text-align: center;" id="publicTopBookSales">Cargando...</p>
                </div>

                <!-- VENTAS DESDE CUBA -->
                <div class="tracker-card">
                    <h2><i class="fas fa-flag"></i> Ventas Cuba</h2>
                    <div class="stat-number" id="cubaSales">0</div>
                    <p style="text-align: center; color: #94a3b8;">Compras desde Cuba</p>
                </div>
            </div>

            <!-- VENTAS EN TIEMPO REAL -->
            <div class="tracker-card" style="grid-column: 1 / -1;">
                <h2><i class="fas fa-bolt"></i> √öltimas Ventas</h2>
                <div class="live-sales-list" id="publicSalesList">
                    <div class="sale-item">
                        <div>
                            <strong>"Fusi√≥n Caribe√±a con IA"</strong><br>
                            <small style="color: #94a3b8;">Comprado desde: La Habana ‚Ä¢ 250 CUP</small>
                        </div>
                        <div style="text-align: right;">
                            <span style="color: var(--tracker-warning);">Cuba üá®üá∫</span><br>
                            <small>Hace 15 minutos</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== SOBRE DIDIERT ===== -->
    <section id="sobre" class="about-section">
        <div class="container">
            <div class="section-title">
                <h2>Sobre Didiert</h2>
                <p>Conoce al creador detr√°s de Curiosidades Culinarias</p>
            </div>
            
            <div class="about-container">
                <div class="about-img">
                    <img src="https://images.unsplash.com/photo-1581299894007-aaa50297cf16?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80" alt="Didiert - Creador de contenido digital">
                </div>
                <div class="about-text">
                    <h3>¬°Hola! Soy Didiert Angarica</h3>
                    <p>Soy una persona que est√° comenzando su aventura en el mundo digital. Como muchos en Cuba, estoy explorando nuevas formas de creatividad y emprendimiento en internet.</p>
                    
                    <p>He creado este proyecto por dos razones principales: como una forma de entretenimiento creativo y como una posible fuente de sustento personal. Me apasiona la cocina y la tecnolog√≠a, as√≠ que decid√≠ unirlas.</p>
                    
                    <div class="ai-badge">
                        <i class="fas fa-robot"></i> TODOS LOS LIBROS CREADOS CON INTELIGENCIA ARTIFICIAL
                    </div>
                    
                    <p>Todo el contenido de los libros ha sido generado utilizando IA (ChatGPT) como herramienta creativa. Es un experimento para ver c√≥mo la tecnolog√≠a puede ayudarnos a crear contenido √∫nico y valioso.</p>
                    
                    <p>Si alg√∫n d√≠a logro monetizar mi canal de YouTube y vender estos libros, ser√≠a un gran paso hacia mi independencia econ√≥mica. Mientras tanto, disfruto del proceso de creaci√≥n y aprendizaje.</p>
                    
                    <a href="https://youtube.com/@didiertangarica" target="_blank" class="youtube-channel">
                        <i class="fab fa-youtube"></i> Suscr√≠bete a mi canal de YouTube
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== CONTACTO ===== -->
    <section id="contacto">
        <div class="container">
            <div class="section-title">
                <h2>Contacto y Soporte</h2>
                <p>¬øTienes preguntas o problemas con tu compra? ¬°Cont√°ctame!</p>
            </div>
            
            <div class="contact-container">
                <div class="contact-info">
                    <h3>Canales de contacto</h3>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div>
                            <h4>Ventas y Compras</h4>
                            <p>culinariascuriosidades4@gmail.com</p>
                            <p><small>Para consultas sobre pagos, descargas y libros</small></p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div>
                            <h4>WhatsApp (Cuba)</h4>
                            <p>+53 52494433</p>
                            <a href="https://wa.me/5352494433" target="_blank" class="whatsapp-button">
                                <i class="fab fa-whatsapp"></i> Escribir por WhatsApp
                            </a>
                            <p><small>Para confirmar pagos desde Cuba</small></p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fab fa-youtube"></i>
                        </div>
                        <div>
                            <h4>Canal de YouTube</h4>
                            <p>Curiosidades Culinarias con Didiert</p>
                            <a href="https://youtube.com/@didiertangarica" target="_blank" style="color: var(--cuban-red); text-decoration: none; font-weight: 500;">
                                <i class="fab fa-youtube"></i> Ver mi canal
                            </a>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <div>
                            <h4>Soporte T√©cnico</h4>
                            <p>didiertangarica79@gmail.com</p>
                            <p><small>Para problemas con descargas o acceso</small></p>
                        </div>
                    </div>
                </div>
                
                <div class="contact-form">
                    <h3>Env√≠ame un mensaje</h3>
                    <form id="contactForm">
                        <input type="text" placeholder="Tu nombre" required>
                        <input type="email" placeholder="Tu email" required>
                        <select style="width: 100%; padding: 15px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 5px;">
                            <option value="">Selecciona el motivo</option>
                            <option value="compra">Problema con una compra</option>
                            <option value="descarga">No puedo descargar mi libro</option>
                            <option value="pago-cuba">Consulta sobre pago desde Cuba</option>
                            <option value="otro">Otro asunto</option>
                        </select>
                        <textarea placeholder="Tu mensaje" required></textarea>
                        <button type="submit" class="cta-button">Enviar mensaje</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== FOOTER ===== -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-column">
                    <h3>Curiosidades Culinarias</h3>
                    <p>Libros de cocina en PDF creados con IA. Disponible para Cuba y todo el mundo.</p>
                    <div class="social-icons">
                        <a href="https://youtube.com/@didiertangarica" target="_blank"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/5352494433" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Enlaces r√°pidos</h3>
                    <ul class="footer-links">
                        <li><a href="#inicio">Inicio</a></li>
                        <li><a href="#libros">Libros PDF</a></li>
                        <li><a href="#pagos-cuba">Pagos en Cuba</a></li>
                        <li><a href="#seguimiento">Estad√≠sticas</a></li>
                        <li><a href="#sobre">Sobre Didiert</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Libros disponibles</h3>
                    <ul class="footer-links">
                        <li><a href="#libros">Fusi√≥n Caribe√±a con IA</a></li>
                        <li><a href="#libros">Cocina Internacional AI</a></li>
                        <li><a href="#libros">Postres con Chat GPT</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Pagos aceptados</h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
                        <div style="background: white; padding: 5px 10px; border-radius: 5px; color: var(--cuban-blue); font-weight: 600;">CUP</div>
                        <div style="background: white; padding: 5px 10px; border-radius: 5px; color: var(--cuban-blue); font-weight: 600;">USD</div>
                        <div style="background: white; padding: 5px 10px; border-radius: 5px; color: var(--cuban-blue); font-weight: 600;">Transferm√≥vil</div>
                    </div>
                    <p style="font-size: 0.9rem; color: #bbb;">Pagos seguros desde Cuba</p>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2023 Curiosidades Culinarias con Didiert. Contenido creado con IA. Todos los derechos reservados.</p>
                <p style="margin-top: 10px; font-size: 0.8rem;">üá®üá∫ Proyecto digital desde Cuba</p>
            </div>
        </div>
    </footer>

    <!-- ===== MODAL DE COMPRA (CORREGIDO) ===== -->
    <div class="modal" id="purchaseModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Comprar: <span id="bookTitle"></span></h3>
            <p>Precio: <strong id="bookPrice"></strong> / <strong id="cupPrice"></strong> CUP</p>
            
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h4>Selecciona tu ubicaci√≥n</h4>
                    <div style="display: flex; gap: 10px; margin: 15px 0;">
                        <button class="payment-card" onclick="selectLocation('cuba')">
                            <i class="fas fa-flag"></i>
                            <span>Comprar desde Cuba</span>
                        </button>
                        <button class="payment-card" onclick="selectLocation('internacional')">
                            <i class="fas fa-globe-americas"></i>
                            <span>Internacional</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- PASO PARA CUBA -->
            <div id="cubaPaymentStep" style="display: none;">
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Pago desde Cuba üá®üá∫</h4>
                        <p>Precio en CUP: <strong id="finalCupPrice"></strong></p>
                        <p><strong>Instrucciones:</strong></p>
                        <ol style="margin-left: 20px; margin-top: 10px;">
                            <li>Realiza el pago por Transferm√≥vil o banco</li>
                            <li>Env√≠a el comprobante a mi WhatsApp</li>
                            <li>Recibir√°s el PDF inmediatamente</li>
                        </ol>
                        
                        <div style="margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                            <p><strong>üì± WhatsApp para confirmar pago:</strong> +53 52494433/p>
                            <p><strong>üìß Email alternativo:</strong> culinariascuriosidades4@gmail.com</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- PASO INTERNACIONAL -->
            <div id="internationalPaymentStep" style="display: none;">
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Ingresa tu email</h4>
                        <p>Te enviaremos el PDF a este correo:</p>
                        <input type="email" class="email-input" id="customerEmail" placeholder="tucorreo@ejemplo.com">
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>Selecciona m√©todo de pago</h4>
                        <div class="payment-methods">
                            <div class="payment-card" onclick="selectPaymentMethod('paypal')">
                                <i class="fab fa-cc-paypal payment-icon"></i>
                                <span>PayPal</span>
                            </div>
                            <div class="payment-card" onclick="selectPaymentMethod('card')">
                                <i class="fas fa-credit-card payment-icon"></i>
                                <span>Tarjeta Internacional</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="success-message" id="successMessage">
                <h4><i class="fas fa-check-circle"></i> ¬°Compra exitosa!</h4>
                <p id="successMessageText"></p>
            </div>
            
            <div class="download-section" id="downloadSection">
                <h4><i class="fas fa-download"></i> ¬°Listo para descargar!</h4>
                <p>Tu libro PDF est√° listo para descargar.</p>
                <button class="download-button" onclick="downloadPDF()">
                    <i class="fas fa-file-pdf"></i> Descargar PDF
                </button>
                <p class="download-info" id="downloadInfo"></p>
            </div>
            
            <button class="cta-button" id="confirmPurchase" style="width: 100%; margin-top: 20px; display: none;">
                <i class="fas fa-check"></i> Confirmar Compra
            </button>
            
            <p style="margin-top: 15px; font-size: 0.9rem; text-align: center;">
                ¬øProblemas con la compra? <a href="https://wa.me/5352494433" target="_blank" style="color: var(--cuban-red);">Escr√≠beme por WhatsApp</a>
            </p>
        </div>
    </div>

    <!-- ===== LOGIN ADMIN ===== -->
    <div class="login-screen" id="loginScreen">
        <div class="login-box">
            <h1 style="text-align: center; margin-bottom: 30px; color: var(--cuban-blue);">
                <i class="fas fa-lock"></i> Acceso Administrador
            </h1>
            <div class="input-group">
                <label><i class="fas fa-user"></i> Usuario</label>
                <input type="text" id="adminUser" placeholder="admin">
            </div>
            <div class="input-group">
                <label><i class="fas fa-key"></i> Contrase√±a</label>
                <input type="password" id="adminPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            <button class="tracker-btn" style="width: 100%;" onclick="login()">
                <i class="fas fa-sign-in-alt"></i> Ingresar al Sistema
            </button>
            <p style="text-align: center; margin-top: 20px; color: #94a3b8;">
                <a href="#" style="color: var(--cuban-blue);" onclick="hideLogin()">
                    <i class="fas fa-times"></i> Cancelar
                </a>
            </p>
        </div>
    </div>

    <!-- ===== PANEL ADMINISTRADOR ===== -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-container">
            <!-- BARRA LATERAL -->
            <div class="sidebar">
                <h2 style="color: var(--cuban-blue); margin-bottom: 30px;">
                    <i class="fas fa-cogs"></i> Panel Control
                </h2>
                
                <button class="menu-item active" onclick="showAdminSection('dashboard')">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </button>
                <button class="menu-item" onclick="showAdminSection('ventas')">
                    <i class="fas fa-shopping-cart"></i> Ventas
                </button>
                <button class="menu-item" onclick="showAdminSection('cuba')">
                    <i class="fas fa-flag"></i> Ventas Cuba
                </button>
                <button class="menu-item" onclick="showAdminSection('libros')">
                    <i class="fas fa-book"></i> Libros
                </button>
                <button class="menu-item" onclick="showAdminSection('config')">
                    <i class="fas fa-sliders-h"></i> Configuraci√≥n
                </button>
                
                <div style="margin-top: 50px;">
                    <button class="tracker-btn tracker-btn-secondary" onclick="hideAdminPanel()" style="width: 100%; margin-bottom: 10px;">
                        <i class="fas fa-eye"></i> Volver al Sitio
                    </button>
                    <button class="tracker-btn" onclick="logout()" style="width: 100%; background: var(--tracker-danger);">
                        <i class="fas fa-sign-out-alt"></i> Cerrar Sesi√≥n
                    </button>
                </div>
            </div>

            <!-- CONTENIDO PRINCIPAL -->
            <div class="main-content">
                <!-- DASHBOARD ADMIN -->
                <div id="dashboardSection" class="admin-section active">
                    <h1><i class="fas fa-tachometer-alt"></i> Dashboard Administrativo</h1>
                    
                    <div class="dashboard-grid">
                        <div class="tracker-card">
                            <h3><i class="fas fa-chart-line"></i> Ventas Hoy</h3>
                            <div class="stat-number" id="adminSalesToday">0</div>
                            <p>Actualizado: <span id="lastUpdate">Ahora</span></p>
                        </div>
                        <div class="tracker-card">
                            <h3><i class="fas fa-money-bill-wave"></i> Ingresos Total</h3>
                            <div class="stat-number" id="adminRevenue">$0 USD</div>
                            <p>Mes actual</p>
                        </div>
                        <div class="tracker-card">
                            <h3><i class="fas fa-flag"></i> Ventas Cuba</h3>
                            <div class="stat-number" id="adminCubaSales">0</div>
                            <p>Compras desde Cuba</p>
                        </div>
                        <div class="tracker-card">
                            <h3><i class="fas fa-clock"></i> Hora Cuba</h3>
                            <div class="countdown" id="adminCubaTime">00:00:00</div>
                            <p><span id="cubaDate">Cargando...</span></p>
                        </div>
                    </div>

                    <!-- TABLA DE VENTAS RECIENTES -->
                    <h2 style="margin-top: 30px;"><i class="fas fa-history"></i> Ventas Recientes</h2>
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>ID</th><th>Cliente</th><th>Libro</th><th>Precio</th><th>Ubicaci√≥n</th><th>Fecha</th><th>Estado</th>
                            </tr>
                        </thead>
                        <tbody id="adminSalesTable">
                            <!-- Datos cargados por JavaScript -->
                        </tbody>
                    </table>

                    <!-- ACCIONES R√ÅPIDAS -->
                    <h2 style="margin-top: 30px;"><i class="fas fa-bolt"></i> Acciones R√°pidas</h2>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 15px;">
                        <button class="tracker-btn" onclick="simulateCubaSale()">
                            <i class="fas fa-flag"></i> Simular Venta Cuba
                        </button>
                        <button class="tracker-btn" onclick="simulateSale()">
                            <i class="fas fa-globe"></i> Simular Venta Intl
                        </button>
                        <button class="tracker-btn" onclick="sendTestNotification()" style="background: var(--tracker-success);">
                            <i class="fas fa-bell"></i> Probar Notificaci√≥n
                        </button>
                    </div>
                </div>

                <!-- VENTAS CUBA -->
                <div id="cubaSection" class="admin-section">
                    <h1><i class="fas fa-flag"></i> Ventas desde Cuba</h1>
                    <div style="background: rgba(0, 32, 91, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <h3><i class="fas fa-info-circle"></i> Informaci√≥n para pagos en Cuba</h3>
                        <p><strong>Cuenta Transferm√≥vil:</strong> +53 52494433</p>
                        <p><strong>Banco:</strong> Banco Metropolitano - Cuenta: 9204959877342917</p>
                        <p><strong>WhatsApp para confirmaciones:</strong> +53 52494433/p>
                    </div>
                    <p>Gestiona todas las ventas realizadas desde Cuba.</p>
                </div>
                
                <!-- OTRAS SECCIONES -->
                <div id="ventasSection" class="admin-section">
                    <h1><i class="fas fa-shopping-cart"></i> Gesti√≥n de Ventas</h1>
                    <p>Gestiona todas las ventas realizadas.</p>
                </div>
                
                <div id="librosSection" class="admin-section">
                    <h1><i class="fas fa-book"></i> Gesti√≥n de Libros</h1>
                    <p>Administra tu cat√°logo de libros.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== NOTIFICACIONES ===== -->
    <div id="notification" class="notification"></div>

    <!-- ===== JAVASCRIPT UNIFICADO CON CORRECCIONES ===== -->
    <script>
        // ===== CONFIGURACI√ìN DEL SISTEMA =====
        const SYSTEM_CONFIG = {
            sistema: "Curiosidades Culinarias Cuba v2.0",
            version: "1.0.0",
            descripcion: "Sistema de venta de libros PDF con pagos en CUP para Cuba",
            ultima_actualizacion: new Date().toISOString().split('T')[0],
            zona_horaria: "America/Havana",
            moneda_cuba: "CUP",
            moneda_internacional: "USD",
            tasas_cambio: {
                usd_a_cup: 25,
                libros: {
                    LIB001: { cup: 250, usd: 9.99 },
                    LIB002: { cup: 200, usd: 7.99 },
                    LIB003: { cup: 175, usd: 6.99 }
                }
            }
        };

        // ===== VARIABLES GLOBALES =====
        let salesData = [];
        let currentView = 'public';
        let adminLoggedIn = false;
        let salesCounter = 42;
        let cubaSalesCounter = 18;
        let revenueCounter = 1250;
        let selectedBook = null;
        let selectedLocation = null;
        let selectedPaymentMethod = null;
        let currentPurchaseId = 'CC-' + Math.floor(1000 + Math.random() * 9000);
        let currentMode = 'cuba'; // 'cuba' o 'international'

        // ===== FUNCIONES DE HORA DE CUBA =====
        function getCubaTime() {
            const now = new Date();
            const cubaTime = new Date(now.toLocaleString("en-US", {timeZone: "America/Havana"}));
            
            const options = { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit',
                hour12: false 
            };
            
            const dateOptions = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            };
            
            return {
                time: cubaTime.toLocaleTimeString('es-CU', options),
                date: cubaTime.toLocaleDateString('es-CU', dateOptions),
                full: cubaTime
            };
        }

        function updateCubaTime() {
            const cubaTime = getCubaTime();
            const cubaTimeElement = document.getElementById('cuba-time');
            if (cubaTimeElement) {
                cubaTimeElement.textContent = cubaTime.time;
            }
            
            if (document.getElementById('adminCubaTime')) {
                document.getElementById('adminCubaTime').textContent = cubaTime.time;
                document.getElementById('cubaDate').textContent = cubaTime.date;
            }
        }

        // ===== SISTEMA DE MODOS (CORREGIDO) =====
        function initModeSystem() {
            const cubaModeBtn = document.getElementById('cubaModeBtn');
            const internationalModeBtn = document.getElementById('internationalModeBtn');
            const currentModeText = document.getElementById('currentModeText');
            
            if (cubaModeBtn && internationalModeBtn && currentModeText) {
                cubaModeBtn.addEventListener('click', () => setMode('cuba'));
                internationalModeBtn.addEventListener('click', () => setMode('international'));
                
                // Cargar modo guardado
                const savedMode = localStorage.getItem('storeMode');
                if (savedMode) {
                    setMode(savedMode);
                } else {
                    setMode('cuba');
                }
            }
        }
        
        function setMode(mode) {
            currentMode = mode;
            
            // Actualizar botones
            const cubaModeBtn = document.getElementById('cubaModeBtn');
            const internationalModeBtn = document.getElementById('internationalModeBtn');
            const currentModeText = document.getElementById('currentModeText');
            
            if (cubaModeBtn && internationalModeBtn && currentModeText) {
                cubaModeBtn.classList.toggle('active', mode === 'cuba');
                internationalModeBtn.classList.toggle('active', mode === 'international');
                
                // Actualizar texto
                currentModeText.innerHTML = `Modo actual: <span style="color: ${mode === 'cuba' ? 'var(--cuban-red)' : 'var(--success)'};">Compra ${mode === 'cuba' ? 'desde Cuba' : 'Internacional'}</span>`;
                
                // Guardar en localStorage
                localStorage.setItem('storeMode', mode);
                
                showNotification(`Modo ${mode === 'cuba' ? 'Cuba' : 'Internacional'} activado`, 'success');
            }
        }

        // ===== SISTEMA DE COMPRAS (CORREGIDO) =====
        function initPurchaseSystem() {
            document.querySelectorAll('.buy-btn').forEach(button => {
                button.addEventListener('click', function() {
                    selectedBook = {
                        title: this.getAttribute('data-book'),
                        price: this.getAttribute('data-price'),
                        cupPrice: this.getAttribute('data-cup'),
                        id: this.getAttribute('data-id')
                    };
                    
                    document.getElementById('bookTitle').textContent = selectedBook.title;
                    document.getElementById('bookPrice').textContent = '$' + selectedBook.price + ' USD';
                    document.getElementById('cupPrice').textContent = selectedBook.cupPrice + ' CUP';
                    document.getElementById('finalCupPrice').textContent = selectedBook.cupPrice + ' CUP';
                    
                    // Resetear modal
                    document.getElementById('successMessage').style.display = 'none';
                    document.getElementById('downloadSection').style.display = 'none';
                    document.getElementById('cubaPaymentStep').style.display = 'none';
                    document.getElementById('internationalPaymentStep').style.display = 'none';
                    document.getElementById('confirmPurchase').style.display = 'none';
                    document.getElementById('confirmPurchase').disabled = false;
                    document.getElementById('confirmPurchase').innerHTML = '<i class="fas fa-check"></i> Confirmar Compra';
                    
                    // Mostrar modal
                    document.getElementById('purchaseModal').style.display = 'flex';
                    
                    // Auto-seleccionar seg√∫n modo actual
                    if (currentMode === 'cuba') {
                        selectLocation('cuba');
                    } else {
                        selectLocation('internacional');
                    }
                });
            });
            
            // Cerrar modal
            document.querySelector('.close-modal').addEventListener('click', function() {
                closePurchaseModal();
            });
            
            // Cerrar modal al hacer clic fuera
            window.addEventListener('click', function(e) {
                const modal = document.getElementById('purchaseModal');
                if(e.target === modal) {
                    closePurchaseModal();
                }
            });
        }
        
        function closePurchaseModal() {
            document.getElementById('purchaseModal').style.display = 'none';
            resetPurchaseModal();
        }

        function selectLocation(location) {
            selectedLocation = location;
            
            if (location === 'cuba') {
                document.getElementById('cubaPaymentStep').style.display = 'block';
                document.getElementById('internationalPaymentStep').style.display = 'none';
                document.getElementById('confirmPurchase').style.display = 'block';
                document.getElementById('confirmPurchase').innerHTML = '<i class="fas fa-check"></i> Confirmar Compra desde Cuba';
                document.getElementById('confirmPurchase').onclick = confirmCubaPurchase;
            } else {
                document.getElementById('cubaPaymentStep').style.display = 'none';
                document.getElementById('internationalPaymentStep').style.display = 'block';
                document.getElementById('confirmPurchase').style.display = 'block';
                document.getElementById('confirmPurchase').innerHTML = '<i class="fas fa-credit-card"></i> Confirmar y Pagar';
                document.getElementById('confirmPurchase').onclick = confirmInternationalPurchase;
            }
        }

        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            document.querySelectorAll('.payment-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
        }

        function confirmCubaPurchase() {
            document.getElementById('confirmPurchase').innerHTML = '<i class="fas fa-spinner fa-spin"></i> Procesando...';
            document.getElementById('confirmPurchase').disabled = true;
            
            setTimeout(() => {
                // Mostrar mensaje de √©xito con AUTO-CIERRE
                document.getElementById('successMessage').style.display = 'block';
                document.getElementById('successMessageText').textContent = '¬°Compra desde Cuba simulada correctamente!';
                document.getElementById('downloadSection').style.display = 'block';
                document.getElementById('downloadInfo').textContent = 'En un caso real, enviar√≠as el comprobante por WhatsApp para recibir el PDF.';
                document.getElementById('confirmPurchase').style.display = 'none';
                
                // Registrar la venta desde Cuba
                registerCubaSale(selectedBook);
                
                // Actualizar estad√≠sticas
                updateSalesCounter(true);
                
                // Generar nuevo ID para la pr√≥xima compra
                currentPurchaseId = 'CC-' + Math.floor(1000 + Math.random() * 9000);
                
                // AUTO-CIERRE despu√©s de 3 segundos (SOLUCI√ìN AL PROBLEMA)
                setTimeout(() => {
                    closePurchaseModal();
                    showNotification('Compra desde Cuba procesada correctamente', 'success');
                }, 3000);
                
            }, 1500);
        }

        function confirmInternationalPurchase() {
            const email = document.getElementById('customerEmail').value;
            
            if (!email || !validateEmail(email)) {
                alert('Por favor ingresa un email v√°lido');
                return;
            }
            
            if (!selectedPaymentMethod) {
                alert('Por favor selecciona un m√©todo de pago');
                return;
            }
            
            document.getElementById('confirmPurchase').innerHTML = '<i class="fas fa-spinner fa-spin"></i> Procesando pago...';
            document.getElementById('confirmPurchase').disabled = true;
            
            setTimeout(() => {
                // Mostrar mensaje de √©xito con AUTO-CIERRE
                document.getElementById('successMessage').style.display = 'block';
                document.getElementById('successMessageText').textContent = '¬°Pago internacional procesado correctamente!';
                document.getElementById('downloadSection').style.display = 'block';
                document.getElementById('downloadInfo').textContent = 'El PDF tambi√©n ha sido enviado a tu email.';
                document.getElementById('confirmPurchase').style.display = 'none';
                
                // Registrar la venta internacional
                registerInternationalSale(selectedBook, email);
                
                // Actualizar estad√≠sticas
                updateSalesCounter(false);
                
                // Generar nuevo ID para la pr√≥xima compra
                currentPurchaseId = 'CC-' + Math.floor(1000 + Math.random() * 9000);
                
                // AUTO-CIERRE despu√©s de 3 segundos (SOLUCI√ìN AL PROBLEMA)
                setTimeout(() => {
                    closePurchaseModal();
                    showNotification('Compra internacional procesada correctamente', 'success');
                }, 3000);
                
            }, 2000);
        }

        function downloadPDF() {
            const pdfContent = `
                =================================
                CURIOSIDADES CULINARIAS - CUBA
                =================================
                
                LIBRO: ${selectedBook.title}
                ID DE COMPRA: ${currentPurchaseId}
                FECHA: ${getCubaTime().date}
                HORA: ${getCubaTime().time}
                
                üá®üá∫ ¬°Gracias por tu compra desde Cuba!
                
                Este libro fue creado utilizando
                Inteligencia Artificial (ChatGPT)
                como herramienta creativa.
                
                Contacto en Cuba:
                üì± WhatsApp: +53 52494433
                üìß Email: culinariascuriosidades4@gmail.com
                
                =================================
                ¬°Disfruta de la cocina con IA!
                =================================
            `;
            
            const blob = new Blob([pdfContent], { type: 'application/pdf' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Curiosidades-Culinarias-${selectedBook.id}.pdf`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('¬°PDF descargado correctamente!', 'success');
            
            setTimeout(() => {
                closePurchaseModal();
            }, 1000);
        }

        function registerCubaSale(book) {
            const sale = {
                id: currentPurchaseId,
                libro: book.title,
                precio: book.cupPrice + ' CUP',
                ubicacion: 'Cuba',
                fecha: getCubaTime().full.toLocaleString('es-CU'),
                estado: 'Pendiente confirmaci√≥n',
                tipo: 'Cuba'
            };
            
            salesData.unshift(sale);
            cubaSalesCounter++;
            updatePublicView();
        }

        function registerInternationalSale(book, email) {
            const sale = {
                id: currentPurchaseId,
                libro: book.title,
                precio: '$' + book.price + ' USD',
                email: email,
                ubicacion: 'Internacional',
                fecha: new Date().toLocaleString(),
                estado: 'Completado',
                tipo: 'Internacional'
            };
            
            salesData.unshift(sale);
            updatePublicView();
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function resetPurchaseModal() {
            document.getElementById('confirmPurchase').innerHTML = '<i class="fas fa-check"></i> Confirmar Compra';
            document.getElementById('confirmPurchase').disabled = false;
            document.getElementById('confirmPurchase').style.display = 'block';
            document.getElementById('customerEmail').value = '';
            selectedLocation = null;
            selectedPaymentMethod = null;
            document.querySelectorAll('.payment-card').forEach(card => {
                card.classList.remove('selected');
            });
        }

        // ===== SISTEMA DE NOTIFICACIONES =====
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            if (!notification) return;
            
            notification.textContent = message;
            notification.className = 'notification';
            notification.classList.add(type);
            notification.style.display = 'block';
            
            // Auto-ocultar despu√©s de 4 segundos
            setTimeout(() => {
                notification.style.display = 'none';
                notification.className = 'notification';
            }, 4000);
        }

        // ===== SISTEMA DE SEGUIMIENTO =====
        function updatePublicView() {
            // Actualizar contadores
            const publicSalesToday = document.getElementById('publicSalesToday');
            const cubaSalesElement = document.getElementById('cubaSales');
            const publicTopBook = document.getElementById('publicTopBook');
            const publicTopBookSales = document.getElementById('publicTopBookSales');
            
            if (publicSalesToday) publicSalesToday.textContent = salesCounter;
            if (cubaSalesElement) cubaSalesElement.textContent = cubaSalesCounter;
            if (publicTopBook) publicTopBook.textContent = "Fusi√≥n Caribe√±a";
            if (publicTopBookSales) publicTopBookSales.textContent = `${Math.floor(salesCounter/3)} vendidos`;
            
            if (adminLoggedIn) {
                updateAdminView();
            }
        }

        function simulateCubaSale() {
            salesCounter++;
            cubaSalesCounter++;
            
            const books = [
                "Fusi√≥n Caribe√±a con IA", 
                "Cocina Internacional AI", 
                "Postres con Chat GPT"
            ];
            const ciudades = ["La Habana", "Santiago de Cuba", "Camag√ºey", "Holgu√≠n", "Santa Clara"];
            
            const newSale = {
                id: 'C-' + (1000 + cubaSalesCounter),
                libro: books[Math.floor(Math.random() * books.length)],
                precio: (175 + Math.floor(Math.random() * 100)) + ' CUP',
                ubicacion: ciudades[Math.floor(Math.random() * ciudades.length)],
                fecha: getCubaTime().full.toLocaleString('es-CU'),
                estado: 'Completado',
                tipo: 'Cuba'
            };
            
            salesData.unshift(newSale);
            updatePublicView();
            
            // Agregar a la lista de ventas
            const salesList = document.getElementById('publicSalesList');
            if (salesList) {
                const saleItem = document.createElement('div');
                saleItem.className = 'sale-item new';
                saleItem.innerHTML = `
                    <div>
                        <strong>"${newSale.libro}"</strong><br>
                        <small style="color: #94a3b8;">${newSale.ubicacion} ‚Ä¢ ${newSale.precio}</small>
                    </div>
                    <div style="text-align: right;">
                        <span style="color: var(--tracker-warning);">Cuba üá®üá∫</span><br>
                        <small>Justo ahora</small>
                    </div>
                `;
                salesList.prepend(saleItem);
                
                // Limitar a 10 items
                if(salesList.children.length > 10) {
                    salesList.removeChild(salesList.lastChild);
                }
            }
            
            showNotification('Venta desde Cuba simulada correctamente!', 'success');
        }

        function simulateSale() {
            salesCounter++;
            revenueCounter += 5 + Math.floor(Math.random() * 10);
            
            const books = [
                "Fusi√≥n Caribe√±a con IA", 
                "Cocina Internacional AI", 
                "Postres con Chat GPT"
            ];
            const paises = ["M√©xico", "Espa√±a", "Argentina", "Colombia", "Estados Unidos"];
            
            const newSale = {
                id: 'I-' + (1000 + salesCounter - cubaSalesCounter),
                libro: books[Math.floor(Math.random() * books.length)],
                precio: '$' + (5 + Math.floor(Math.random() * 10)) + ' USD',
                ubicacion: paises[Math.floor(Math.random() * paises.length)],
                fecha: new Date().toLocaleString(),
                estado: 'Completado',
                tipo: 'Internacional'
            };
            
            salesData.unshift(newSale);
            updatePublicView();
            
            // Agregar a la lista de ventas
            const salesList = document.getElementById('publicSalesList');
            if (salesList) {
                const saleItem = document.createElement('div');
                saleItem.className = 'sale-item new';
                saleItem.innerHTML = `
                    <div>
                        <strong>"${newSale.libro}"</strong><br>
                        <small style="color: #94a3b8;">${newSale.ubicacion} ‚Ä¢ ${newSale.precio}</small>
                    </div>
                    <div style="text-align: right;">
                        <span style="color: var(--tracker-success);">${newSale.ubicacion}</span><br>
                        <small>Justo ahora</small>
                    </div>
                `;
                salesList.prepend(saleItem);
                
                // Limitar a 10 items
                if(salesList.children.length > 10) {
                    salesList.removeChild(salesList.lastChild);
                }
            }
            
            showNotification('Venta internacional simulada correctamente!', 'success');
        }

        function updateSalesCounter(isCuba) {
            salesCounter++;
            if (isCuba) {
                cubaSalesCounter++;
            } else {
                revenueCounter += parseFloat(selectedBook.price);
            }
            updatePublicView();
        }

        // ===== SISTEMA ADMINISTRATIVO =====
        function showLogin() {
            document.getElementById('loginScreen').style.display = 'flex';
        }

        function hideLogin() {
            document.getElementById('loginScreen').style.display = 'none';
        }

        function login() {
            const user = document.getElementById('adminUser').value;
            const pass = document.getElementById('adminPass').value;
            
            if(user === 'admin' && pass === 'admin123') {
                adminLoggedIn = true;
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                updateAdminView();
            } else {
                alert('Credenciales incorrectas. Usuario: admin / Contrase√±a: admin123');
            }
        }

        function hideAdminPanel() {
            document.getElementById('adminPanel').style.display = 'none';
        }

        function logout() {
            adminLoggedIn = false;
            hideAdminPanel();
            document.getElementById('adminPass').value = '';
        }

        function showAdminSection(sectionId) {
            document.querySelectorAll('.admin-section').forEach(el => {
                el.classList.remove('active');
            });
            document.querySelectorAll('.menu-item').forEach(el => {
                el.classList.remove('active');
            });
            
            document.getElementById(sectionId + 'Section').classList.add('active');
            event.currentTarget.classList.add('active');
        }

        function updateAdminView() {
            if (!adminLoggedIn) return;
            
            document.getElementById('adminSalesToday').textContent = salesCounter;
            document.getElementById('adminCubaSales').textContent = cubaSalesCounter;
            document.getElementById('adminRevenue').textContent = `$${revenueCounter} USD`;
            document.getElementById('lastUpdate').textContent = getCubaTime().time;
            
            updateAdminSalesTable();
        }

        function updateAdminSalesTable() {
            const table = document.getElementById('adminSalesTable');
            if(!table) return;
            
            const recentSales = salesData.slice(0, 10);
            table.innerHTML = recentSales.map(sale => `
                <tr>
                    <td>${sale.id}</td>
                    <td>${sale.email || 'Cliente Cuba'}</td>
                    <td>${sale.libro}</td>
                    <td>${sale.precio}</td>
                    <td>${sale.ubicacion}</td>
                    <td>${sale.fecha}</td>
                    <td>
                        <span style="color: ${sale.estado === 'Completado' ? 'var(--tracker-success)' : 'var(--tracker-warning)'}">
                            ${sale.estado}
                        </span>
                    </td>
                </tr>
            `).join('');
        }

        function sendTestNotification() {
            showNotification('üìß Notificaci√≥n de prueba enviada correctamente', 'success');
        }

        // ===== FUNCIONES DE INICIALIZACI√ìN =====
        function initMobileMenu() {
            const mobileMenuBtn = document.querySelector('.mobile-menu');
            const nav = document.querySelector('nav');
            
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', () => {
                    nav.classList.toggle('active');
                });
            }
            
            document.querySelectorAll('nav a').forEach(link => {
                link.addEventListener('click', () => {
                    nav.classList.remove('active');
                });
            });
        }

        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    if(this.getAttribute('href') === '#') return;
                    
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if(targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        function initContactForm() {
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    showNotification('¬°Gracias por tu mensaje! Te responder√© lo antes posible.', 'success');
                    this.reset();
                });
            }
        }

        function initAdminAccess() {
            const adminAccessBtn = document.getElementById('adminAccessBtn');
            if (adminAccessBtn) {
                adminAccessBtn.addEventListener('click', showLogin);
            }
        }

        function initViewBooks() {
            const viewBooksButton = document.getElementById('viewBooks');
            if (viewBooksButton) {
                viewBooksButton.addEventListener('click', function() {
                    document.querySelector('#libros').scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            }
        }

        // ===== INICIALIZACI√ìN =====
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar componentes
            initMobileMenu();
            initSmoothScrolling();
            initContactForm();
            initAdminAccess();
            initViewBooks();
            initModeSystem();
            initPurchaseSystem();
            
            // Inicializar datos
            for(let i = 0; i < 3; i++) {
                simulateCubaSale();
                simulateSale();
            }
            
            salesCounter = 42;
            cubaSalesCounter = 18;
            revenueCounter = 1250;
            updatePublicView();
            updateCubaTime();
            
            // Configurar intervalos de actualizaci√≥n
            setInterval(updateCubaTime, 1000);
            setInterval(updatePublicView, 30000);
        });
    </script>
</body>
</html>
