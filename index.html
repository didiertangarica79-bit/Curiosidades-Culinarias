<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curiosidades Culinarias - Panel de Ventas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --color-primary: #2d3436;
            --color-secondary: #0984e3;
            --color-success: #00b894;
            --color-warning: #fdcb6e;
            --color-danger: #d63031;
            --color-text: #dfe6e9;
            --color-bg: #1e272e;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', system-ui, sans-serif; }
        body { background: var(--color-bg); color: var(--color-text); line-height: 1.6; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 40px; padding: 20px; border-bottom: 2px solid var(--color-secondary); }
        h1 { color: var(--color-success); font-size: 2.8rem; }
        .subtitle { color: var(--color-warning); font-size: 1.2rem; margin-top: 10px; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px; margin-bottom: 40px; }
        .card { background: rgba(45, 52, 54, 0.7); border-radius: 15px; padding: 25px; box-shadow: 0 8px 20px rgba(0,0,0,0.3); transition: transform 0.3s; border-left: 5px solid var(--color-secondary); }
        .card:hover { transform: translateY(-5px); }
        .card h2 { color: var(--color-secondary); margin-bottom: 15px; font-size: 1.5rem; display: flex; align-items: center; gap: 10px; }
        .stat-number { font-size: 3.5rem; font-weight: bold; text-align: center; margin: 15px 0; color: var(--color-success); }
        .countdown { font-size: 2.2rem; font-weight: bold; text-align: center; color: var(--color-warning); font-family: monospace; margin: 10px 0; }
        .countdown-label { text-align: center; color: #aaa; }
        .sale-item { padding: 12px; border-bottom: 1px solid #444; display: flex; justify-content: space-between; }
        .sale-item:last-child { border-bottom: none; }
        .location { color: var(--color-warning); }
        .time { color: #aaa; font-size: 0.9rem; }
        .flash-new { animation: flashGreen 2s; }
        @keyframes flashGreen { 0%, 100% { background-color: transparent; } 50% { background-color: rgba(0, 184, 148, 0.3); } }
        footer { text-align: center; margin-top: 40px; padding: 20px; color: #777; border-top: 1px solid #444; }
        @media (max-width: 768px) { .dashboard-grid { grid-template-columns: 1fr; } h1 { font-size: 2.2rem; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-chart-line"></i> Curiosidades Culinarias</h1>
            <p class="subtitle">Panel de Ventas en Tiempo Real | Seguimiento de Libros Vendidos</p>
        </header>

        <div class="dashboard-grid">
            <!-- Tarjeta 1: Contador Total de Ventas -->
            <div class="card">
                <h2><i class="fas fa-book"></i> Libros Vendidos Hoy</h2>
                <div class="stat-number" id="salesToday">0</div>
                <p style="text-align: center;">Ventas confirmadas en las últimas 24 horas.</p>
            </div>

            <!-- Tarjeta 2: Contador de Rifa Negativa -->
            <div class="card">
                <h2><i class="fas fa-clock"></i> Rifa Activa</h2>
                <p class="countdown-label">La rifa cierra en:</p>
                <div class="countdown" id="raffleCountdown">05:00:00:00</div>
                <p style="text-align: center; margin-top: 10px;">¡No pierdas la oportunidad de ganar!</p>
            </div>

            <!-- Tarjeta 3: Libro Más Vendido -->
            <div class="card">
                <h2><i class="fas fa-crown"></i> Libro del Día</h2>
                <div class="stat-number" id="topBookTitle">-</div>
                <p style="text-align: center;" id="topBookSales">Esperando ventas...</p>
            </div>
        </div>

        <!-- Sección de Ventas Recientes -->
        <div class="card" style="grid-column: 1 / -1;">
            <h2><i class="fas fa-history"></i> Últimas Ventas en Tiempo Real</h2>
            <div id="recentSalesList">
                <p style="text-align: center; padding: 20px;" id="waitingSales">El sistema se está conectando... Las nuevas ventas aparecerán aquí automáticamente.</p>
                <!-- Las ventas se insertarán aquí por JavaScript -->
            </div>
        </div>

        <footer>
            <p>Sistema de Seguimiento Live Tracker v3.0 | Actualizado en tiempo real | <i class="fas fa-lock"></i> Conexión segura</p>
            <p>Configuración activa: Modo tiempo real, Rifas negativas, Notificaciones automáticas.</p>
        </footer>
    </div>

    <!-- JavaScript Básico para Dinamismo -->
    <script>
        // Simulación inicial de datos - Luego se conectaría a Firebase/Socket.io
        document.addEventListener('DOMContentLoaded', function() {
            // Ejemplo: Actualizar contadores (luego vendrían de la base de datos)
            document.getElementById('salesToday').textContent = '42';
            document.getElementById('topBookTitle').textContent = 'Recetas Místicas';
            document.getElementById('topBookSales').textContent = '15 vendidos hoy';

            // Simular una nueva venta después de 3 segundos (para demostración)
            setTimeout(() => {
                const salesList = document.getElementById('recentSalesList');
                const waitingMsg = document.getElementById('waitingSales');
                if(waitingMsg) waitingMsg.remove();

                const newSale = document.createElement('div');
                newSale.className = 'sale-item flash-new';
                newSale.innerHTML = `
                    <strong>✏️ "Secretos de la Cocina"</strong>
                    <span class="location"><i class="fas fa-map-marker-alt"></i> Ciudad de México</span>
                    <span class="time">Justo ahora</span>
                `;
                salesList.prepend(newSale);

                // Actualizar contador
                const todayCount = document.getElementById('salesToday');
                todayCount.textContent = (parseInt(todayCount.textContent) + 1).toString();
                todayCount.classList.add('flash-new');
                setTimeout(() => todayCount.classList.remove('flash-new'), 2000);

            }, 3000);

            // Contador regresivo de ejemplo para la rifa
            function updateCountdown() {
                const countdownElement = document.getElementById('raffleCountdown');
                // Fecha objetivo de ejemplo (3 días en el futuro)
                const targetDate = new Date();
                targetDate.setDate(targetDate.getDate() + 3);
                targetDate.setHours(17, 0, 0, 0); // 5:00 PM

                const now = new Date();
                const diff = targetDate - now;

                if (diff <= 0) {
                    countdownElement.textContent = "¡Rifa Finalizada!";
                    countdownElement.style.color = "var(--color-danger)";
                    return;
                }

                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                countdownElement.textContent = `${days.toString().padStart(2, '0')}:${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }
            setInterval(updateCountdown, 1000);
            updateCountdown();
        });
    </script>
</body>
</html>
